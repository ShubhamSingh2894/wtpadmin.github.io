<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Welcome main10</title>

    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/jumbotron-narrow.css" rel="stylesheet">
    <script src="//www.parsecdn.com/js/parse-1.6.7.min.js"></script>
    <script src="../js/jquery-2.1.4.min.js"></script>
    <script>

        	function refresh() {
            var count = [];
        		Parse.$ = jQuery;
            Parse.initialize("nVul6sjXS7F5FfVLOX0o0a1GIkDuCYS1yBzQpVgn", "GLTokJkjL6kK54qBNQE5C5zMYXqPcyFLM1zyoQNY");
              var Slot =  Parse.Object.extend("Corporate");
        			var query = new Parse.Query(Slot);
        			query.equalTo("objectId","eRYZZhzNfM");
        			query.first({
        					success: function(slot) {
                    count=slot.get("parking_count");

                    if(count[0] == 21) {
                      document.getElementById("kpmg_status").innerHTML ="Available";
                      document.getElementById("kpmg_min").disabled= "disabled";
                      document.getElementById("kpmg_add").disabled= "disabled";
                      document.getElementById("kpmg_less").disabled= "";
                      document.getElementById("kpmg_enter").disabled="disabled";
                      document.getElementById("kpmg_slot").disabled="disabled";
                    }
                    else if(count[0] < 21 && count[0]> 0) {
                      document.getElementById("kpmg_status").innerHTML = count[0];
                      document.getElementById("kpmg_min").disabled= "";
                      document.getElementById("kpmg_add").disabled= "";
                      document.getElementById("kpmg_less").disabled= "disabled";
                      document.getElementById("kpmg_enter").disabled="";
                      document.getElementById("kpmg_slot").disabled="";
                    }
                    else if (count[0]==0){
                      document.getElementById("kpmg_status").innerHTML = "Full";
                      document.getElementById("kpmg_min").disabled= "";
                      document.getElementById("kpmg_add").disabled= "";
                      document.getElementById("kpmg_less").disabled= "disabled";
                      document.getElementById("kpmg_enter").disabled="";
                      document.getElementById("kpmg_slot").disabled="";
                    }
                  }
        			});
              query.equalTo("objectId","rVwz3JOClt");
        			query.first({
        					success: function(slot) {
                    count=slot.get("parking_count");

                    if(count[0] == 21) {
                      document.getElementById("fluor_status").innerHTML ="Available";
                      document.getElementById("fluor_min").disabled= "disabled";
                      document.getElementById("fluor_add").disabled= "disabled";
                      document.getElementById("fluor_less").disabled= "";
                      document.getElementById("fluor_enter").disabled="disabled";
                      document.getElementById("fluor_slot").disabled="disabled";
                    }
                    else if(count[0] < 21 && count[0]> 0) {
                      document.getElementById("fluor_status").innerHTML = count[0];
                      document.getElementById("fluor_min").disabled= "";
                      document.getElementById("fluor_add").disabled= "";
                      document.getElementById("fluor_less").disabled= "disabled";
                      document.getElementById("fluor_enter").disabled="";
                      document.getElementById("fluor_slot").disabled="";
                    }
                    else if (count[0]==0){
                      document.getElementById("fluor_status").innerHTML = "Full";
                      document.getElementById("fluor_min").disabled= "";
                      document.getElementById("fluor_add").disabled= "";
                      document.getElementById("fluor_less").disabled= "disabled";
                      document.getElementById("fluor_enter").disabled="";
                      document.getElementById("fluor_slot").disabled="";
                    }

                  }
        			});


}

            window.onload = function(){refresh();};
      </script>

  </head>

  <body>

    <div class="container">
      <div class="header clearfix">
        <nav>
          <ul class ="nav nav-pills pull-right">
			         <li role="presentation" class="active"><a href="../index.html">Logout</a></li>
		      </ul>
        </nav>
      </div>

      <div class="jumbotron">
            <h2 style="color:#984807"><strong>kpmg Surface Parking (Building 10)</strong></h2>
            <hr>
            <button type="button"  id= "kpmg_less" onclick="kpmg_update()" class="btn-md btn-warning" >20 Slots Left</button>
            <button type="button"  id= "kpmg_avail" onclick="kpmg_avail()" class="btn-md btn-success" >Available</button>
            <hr>
            <button type="button"  id="kpmg_min" onclick="kpmg_minus()" class="btn-sm btn-danger" disabled>-</button>
            <input id ="kpmg_slot" value="" type="number" disabled ></input>
            <button type="button"  id="kpmg_add" onclick="kpmg_plus()" class="btn-sm btn-success" disabled>+</button>
            <br>
            <button type="button"  id="kpmg_enter" onclick="kpmg_enter()" class="btn-sm btn-primary" disabled>Enter</button>
            <hr>
            <h2 id ="kpmg_status" style="color:#984807"><strong></strong></h2>
            <hr>


      <script>
                function kpmg_avail() {
                  var status = [];
                  var count = [];
                  Parse.$ = jQuery;
                  Parse.initialize("nVul6sjXS7F5FfVLOX0o0a1GIkDuCYS1yBzQpVgn", "GLTokJkjL6kK54qBNQE5C5zMYXqPcyFLM1zyoQNY");
                    var Slot =  Parse.Object.extend("Corporate");
                    var query = new Parse.Query(Slot);
                    query.equalTo("objectId","eRYZZhzNfM");
                        query.first({
                              success: function(slot) {
                                    count=slot.get("parking_count");
                                    count[0]=21;
                                    slot.set("parking_count",count);
                                    status=slot.get("park_show_status");
                                    status[0]="Current Status: Available";
                                    slot.set("park_show_status",status);
                                    document.getElementById("kpmg_status").innerHTML ="Available";
                                    document.getElementById("kpmg_min").disabled= "disabled";
                                    document.getElementById("kpmg_add").disabled= "disabled";
                                    document.getElementById("kpmg_less").disabled= "";
                                    document.getElementById("kpmg_enter").disabled="disabled";
                                    document.getElementById("kpmg_slot").disabled="disabled";
                                    slot.save();
                                  }
                        })
                }

                  function kpmg_enter() {
                    var status=[];
                    var count = [];
                    Parse.$ = jQuery;
                    Parse.initialize("nVul6sjXS7F5FfVLOX0o0a1GIkDuCYS1yBzQpVgn", "GLTokJkjL6kK54qBNQE5C5zMYXqPcyFLM1zyoQNY");
                      var Slot =  Parse.Object.extend("Corporate");
                      var query = new Parse.Query(Slot);
                      query.equalTo("objectId","eRYZZhzNfM");
                        query.first({
                          success: function(slot) {
                          if(document.getElementById("kpmg_slot").value < 21 && document.getElementById("kpmg_slot").value >=0)
                                                      {
                            count=slot.get("parking_count");
                            count[0]=parseInt(document.getElementById("kpmg_slot").value);
                            slot.set("parking_count",count);
                            status=slot.get("park_show_status");
                            status[0]="Current Status: "+count[0].toString()+" Slots Available";
                            slot.set("park_show_status",status);
                            slot.save();
                            document.getElementById("kpmg_slot").value=count[0];
                            document.getElementById("kpmg_status").innerHTML = count[0];
                          }
                          if(document.getElementById("kpmg_slot").value  == 0)
                        {
                          count[0]=0;
                          slot.set("parking_count",count);
                          status=slot.get("park_show_status");
                          status[0]="Current Status: Full";
                          slot.set("park_show_status",status);
                          slot.save();
                          document.getElementById("kpmg_slot").value = count[0];
                          document.getElementById("kpmg_status").innerHTML = "Current Slot: "+count[0];
                          }
                          }
                        })
                  }
                function kpmg_update() {
                  var status = [];
                  var count = [];
                  Parse.$ = jQuery;
                  Parse.initialize("nVul6sjXS7F5FfVLOX0o0a1GIkDuCYS1yBzQpVgn", "GLTokJkjL6kK54qBNQE5C5zMYXqPcyFLM1zyoQNY");
                    var Slot =  Parse.Object.extend("Corporate");
                    var query = new Parse.Query(Slot);
                    query.equalTo("objectId","eRYZZhzNfM");
                  query.first({
                    success: function(slot) {
                      count=slot.get("parking_count");
                      count[0]=20;
                      slot.set("parking_count",count);
                      status=slot.get("park_show_status");
                      status[0]="Current Status: "+count[0].toString()+" Slots Available";
                      slot.set("park_show_status",status);
                      slot.save();
                      document.getElementById("kpmg_slot").value=count[0];
                      document.getElementById("kpmg_status").innerHTML ="Current status" + ": " + count[0];
                      document.getElementById("kpmg_min").disabled= "";
                      document.getElementById("kpmg_slot").disabled= "";
                      document.getElementById("kpmg_add").disabled= "";
                      document.getElementById("kpmg_less").disabled= "disabled";
                      document.getElementById("kpmg_enter").disabled="";
                    }
                  })
                }

                function kpmg_minus(){
                  var status = [];
                  var count = [];
                  Parse.$ = jQuery;
                  Parse.initialize("nVul6sjXS7F5FfVLOX0o0a1GIkDuCYS1yBzQpVgn", "GLTokJkjL6kK54qBNQE5C5zMYXqPcyFLM1zyoQNY");
                    var Slot =  Parse.Object.extend("Corporate");
                    var query = new Parse.Query(Slot);
                    query.equalTo("objectId","eRYZZhzNfM");
                  query.first({
                    success: function(slot) {
                      count=slot.get("parking_count");
                      if(count[0] > 0)
                    {
                      count[0]=count[0]-1;
                      slot.set("parking_count",count);
                      status=slot.get("park_show_status");
                      status[0]="Current Status: "+count[0].toString()+" Slots Available";
                      slot.set("park_show_status",status);
                      slot.save();
                      document.getElementById("kpmg_slot").value = count[0];
                      document.getElementById("kpmg_status").innerHTML = "Current Slot: "+count[0];
                      }
                      if(count[0] == 0)
                    {
                      count[0]=0;
                      slot.set("parking_count",count);
                      status=slot.get("park_show_status");
                      status[0]="Current Status: Full";
                      slot.set("park_show_status",status);
                      slot.save();
                      document.getElementById("kpmg_slot").value = count[0];
                      document.getElementById("kpmg_status").innerHTML = "Current Slot: "+count[0];
                      }
                    }
                  })
                }

                function kpmg_plus() {
                  var status = [];
                  var count = [];
                  Parse.$ = jQuery;
                  Parse.initialize("nVul6sjXS7F5FfVLOX0o0a1GIkDuCYS1yBzQpVgn", "GLTokJkjL6kK54qBNQE5C5zMYXqPcyFLM1zyoQNY");
                    var Slot =  Parse.Object.extend("Corporate");
                    var query = new Parse.Query(Slot);
                    query.equalTo("objectId","eRYZZhzNfM");
                  query.first({
                    success: function(slot) {
                      count=slot.get("parking_count");
                      if(count[0] <  20)
                          {
                            count[0]=count[0]+1;
                            slot.set("parking_count",count);
                            status=slot.get("park_show_status");
                            status[0]="Current Status: "+count[0].toString()+" Slots Available";
                            slot.set("park_show_status",status);
                            slot.save();
                            document.getElementById("kpmg_slot").value = count[0];
                            document.getElementById("kpmg_status").innerHTML = "Current Slot: "+count[0];
                      }
                    else {
                      count[0]=21;
                      status=slot.get("park_show_status");
                      status[0]="Current Status: Available";
                      slot.set("park_show_status",status);
                      slot.set("parking_count",count);
                      document.getElementById("kpmg_min").disabled= "disabled";
                      document.getElementById("kpmg_add").disabled= "disabled";
                      document.getElementById("kpmg_less").disabled= "";
                      document.getElementById("kpmg_enter").disabled="disabled";
                      document.getElementById("kpmg_slot").disabled="disabled";
                      document.getElementById("kpmg_status").innerHTML ="Available";
                      slot.save();
                      }
                    }
                  })
                }
          </script>
        </div>

        <div class="jumbotron">
              <h2 style="color:#984807"><strong>fluor Surface Parking (Building 10)</strong></h2>
              <hr>
              <button type="button"  id= "fluor_less" onclick="fluor_update()" class="btn-md btn-warning" >20 Slots Left</button>
              <button type="button"  id= "fluor_avail" onclick="fluor_avail()" class="btn-md btn-success" >Available</button>
              <hr>
              <button type="button"  id="fluor_min" onclick="fluor_minus()" class="btn-sm btn-danger" disabled>-</button>
              <input id ="fluor_slot" value="" type="number" disabled ></input>
              <button type="button"  id="fluor_add" onclick="fluor_plus()" class="btn-sm btn-success" disabled>+</button>
              <br>
              <button type="button"  id="fluor_enter" onclick="fluor_enter()" class="btn-sm btn-primary" disabled>Enter</button>
              <hr>
              <h2 id ="fluor_status" style="color:#984807"><strong></strong></h2>
              <hr>


        <script>
                  function fluor_avail() {
                    var status = [];
                    var count = [];
                    Parse.$ = jQuery;
                    Parse.initialize("nVul6sjXS7F5FfVLOX0o0a1GIkDuCYS1yBzQpVgn", "GLTokJkjL6kK54qBNQE5C5zMYXqPcyFLM1zyoQNY");
                      var Slot =  Parse.Object.extend("Corporate");
                      var query = new Parse.Query(Slot);
                      query.equalTo("objectId","rVwz3JOClt");
                          query.first({
                                success: function(slot) {
                                      count=slot.get("parking_count");
                                      count[0]=21;
                                      slot.set("parking_count",count);
                                      status=slot.get("park_show_status");
                                      status[0]="Current Status: Available";
                                      slot.set("park_show_status",status);
                                      document.getElementById("fluor_status").innerHTML ="Available";
                                      document.getElementById("fluor_min").disabled= "disabled";
                                      document.getElementById("fluor_add").disabled= "disabled";
                                      document.getElementById("fluor_less").disabled= "";
                                      document.getElementById("fluor_enter").disabled="disabled";
                                      document.getElementById("fluor_slot").disabled="disabled";
                                      slot.save();
                                    }
                          })
                  }

                    function fluor_enter() {
                      var status=[];
                      var count = [];
                      Parse.$ = jQuery;
                      Parse.initialize("nVul6sjXS7F5FfVLOX0o0a1GIkDuCYS1yBzQpVgn", "GLTokJkjL6kK54qBNQE5C5zMYXqPcyFLM1zyoQNY");
                        var Slot =  Parse.Object.extend("Corporate");
                        var query = new Parse.Query(Slot);
                        query.equalTo("objectId","rVwz3JOClt");
                          query.first({
                            success: function(slot) {
                            if(document.getElementById("fluor_slot").value < 21 && document.getElementById("fluor_slot").value >=0)
                                                        {
                              count=slot.get("parking_count");
                              count[0]=parseInt(document.getElementById("fluor_slot").value);
                              slot.set("parking_count",count);
                              status=slot.get("park_show_status");
                              status[0]="Current Status: "+count[0].toString()+" Slots Available";
                              slot.set("park_show_status",status);
                              slot.save();
                              document.getElementById("fluor_slot").value=count[0];
                              document.getElementById("fluor_status").innerHTML = count[0];
                            }
                            if(document.getElementById("fluor_slot").value  == 0)
                          {
                            count[0]=0;
                            slot.set("parking_count",count);
                            status=slot.get("park_show_status");
                            status[0]="Current Status: Full";
                            slot.set("park_show_status",status);
                            slot.save();
                            document.getElementById("fluor_slot").value = count[0];
                            document.getElementById("fluor_status").innerHTML = "Current Slot: "+count[0];
                            }
                            }
                          })
                    }
                  function fluor_update() {
                    var status = [];
                    var count = [];
                    Parse.$ = jQuery;
                    Parse.initialize("nVul6sjXS7F5FfVLOX0o0a1GIkDuCYS1yBzQpVgn", "GLTokJkjL6kK54qBNQE5C5zMYXqPcyFLM1zyoQNY");
                      var Slot =  Parse.Object.extend("Corporate");
                      var query = new Parse.Query(Slot);
                      query.equalTo("objectId","rVwz3JOClt");
                    query.first({
                      success: function(slot) {
                        count=slot.get("parking_count");
                        count[0]=20;
                        slot.set("parking_count",count);
                        status=slot.get("park_show_status");
                        status[0]="Current Status: "+count[0].toString()+" Slots Available";
                        slot.set("park_show_status",status);
                        slot.save();
                        document.getElementById("fluor_slot").value=count[0];
                        document.getElementById("fluor_status").innerHTML ="Current status" + ": " + count[0];
                        document.getElementById("fluor_min").disabled= "";
                        document.getElementById("fluor_slot").disabled= "";
                        document.getElementById("fluor_add").disabled= "";
                        document.getElementById("fluor_less").disabled= "disabled";
                        document.getElementById("fluor_enter").disabled="";
                      }
                    })
                  }

                  function fluor_minus(){
                    var status = [];
                    var count = [];
                    Parse.$ = jQuery;
                    Parse.initialize("nVul6sjXS7F5FfVLOX0o0a1GIkDuCYS1yBzQpVgn", "GLTokJkjL6kK54qBNQE5C5zMYXqPcyFLM1zyoQNY");
                      var Slot =  Parse.Object.extend("Corporate");
                      var query = new Parse.Query(Slot);
                      query.equalTo("objectId","rVwz3JOClt");
                    query.first({
                      success: function(slot) {
                        count=slot.get("parking_count");
                        if(count[0] > 0)
                      {
                        count[0]=count[0]-1;
                        slot.set("parking_count",count);
                        status=slot.get("park_show_status");
                        status[0]="Current Status: "+count[0].toString()+" Slots Available";
                        slot.set("park_show_status",status);
                        slot.save();
                        document.getElementById("fluor_slot").value = count[0];
                        document.getElementById("fluor_status").innerHTML = "Current Slot: "+count[0];
                        }
                        if(count[0] == 0)
                      {
                        count[0]=0;
                        slot.set("parking_count",count);
                        status=slot.get("park_show_status");
                        status[0]="Current Status: Full";
                        slot.set("park_show_status",status);
                        slot.save();
                        document.getElementById("fluor_slot").value = count[0];
                        document.getElementById("fluor_status").innerHTML = "Current Slot: "+count[0];
                        }
                      }
                    })
                  }

                  function fluor_plus() {
                    var status = [];
                    var count = [];
                    Parse.$ = jQuery;
                    Parse.initialize("nVul6sjXS7F5FfVLOX0o0a1GIkDuCYS1yBzQpVgn", "GLTokJkjL6kK54qBNQE5C5zMYXqPcyFLM1zyoQNY");
                      var Slot =  Parse.Object.extend("Corporate");
                      var query = new Parse.Query(Slot);
                      query.equalTo("objectId","rVwz3JOClt");
                    query.first({
                      success: function(slot) {
                        count=slot.get("parking_count");
                        if(count[0] <  20)
                            {
                              count[0]=count[0]+1;
                              slot.set("parking_count",count);
                              status=slot.get("park_show_status");
                              status[0]="Current Status: "+count[0].toString()+" Slots Available";
                              slot.set("park_show_status",status);
                              slot.save();
                              document.getElementById("fluor_slot").value = count[0];
                              document.getElementById("fluor_status").innerHTML = "Current Slot: "+count[0];
                        }
                      else {
                        count[0]=21;
                        status=slot.get("park_show_status");
                        status[0]="Current Status: Available";
                        slot.set("park_show_status",status);
                        slot.set("parking_count",count);
                        document.getElementById("fluor_min").disabled= "disabled";
                        document.getElementById("fluor_add").disabled= "disabled";
                        document.getElementById("fluor_less").disabled= "";
                        document.getElementById("fluor_enter").disabled="disabled";
                        document.getElementById("fluor_slot").disabled="disabled";
                        document.getElementById("fluor_status").innerHTML ="Available";
                        slot.save();
                        }
                      }
                    })
                  }
            </script>
          </div>
      </div>
  </body>
</html>
