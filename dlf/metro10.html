<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Welcome metro</title>

    <!-- Bootstrap core CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">


    <!-- Custom styles for this template -->
    <link href="../css/jumbotron-narrow.css" rel="stylesheet">
	<script src="../js/jquery-2.1.4.min.js"></script>
	<script src="//www.parsecdn.com/js/parse-1.6.7.min.js"></script>
	
  </head>

  <body>

    <div class="container">
      <div class="header clearfix">
        <nav>
          <ul class ="nav nav-pills pull-right">
			<li role="presentation" class="active"><a href="index.html">Logout</a></li>
		  </ul>
        </nav>
      </div>
	  
	  <div class="jumbotron">
		<h2 style="color:#984807"><strong>KPMG Metro Counter</strong></h2>
		<hr>
		<input type="number" id="metro_slot"  placeholder="Enter Slot" required="" autofocus="">
		<button class="btn btn-xs btn-success" onClick="update_metro_slot()">Enter</button>
		<hr>
		<br>
		<button type="button"  onclick="refresh_available_surface()" class="btn btn-success">-</button>	
		<input id ="slot_metro" name="metro_slot_show" type="number" disabled></input>
		<button type="button"  onclick="refresh_full_surface()"      class="btn btn-danger">+</button>
		<hr>
		<h2 id ="status_surface" style="color:#984807"><strong></strong></h2>				
	</div>
	
	<script>	
			function update_metro_slot() {
			Parse.$ = jQuery;
			Parse.initialize("ORdRb6ZtoTRSIUBeDKCcpigKQR9Pr6YJjeguuN9t", "ec8NHsZDP17pTdRjBKQFAPxB8ihduGt6e8NAGdaH"); 
			var Slot =  Parse.Object.extend("KPMG");
			var query = new Parse.Query(Slot);
			query.equalTo("objectId","CxD6JdgfB6");
			query.first({
				success: function(slot) { 
					slot.set("parking_counter",document.getElementById("metro_slot").value);
					slot.save();
					document.getElementById("metro_slot_show").value = slot.get("parking_counter");
				}
			})
		}
				function metro_plus() {
			Parse.$ = jQuery;
			Parse.initialize("ORdRb6ZtoTRSIUBeDKCcpigKQR9Pr6YJjeguuN9t", "ec8NHsZDP17pTdRjBKQFAPxB8ihduGt6e8NAGdaH"); 
			var Slot =  Parse.Object.extend("KPMG");
			var query = new Parse.Query(Slot);
			query.equalTo("objectId","CxD6JdgfB6");
			query.first({
				success: function(slot) { 
					slot.set("status_available", "Full");
					slot.save();
					document.getElementById("status_surface").innerHTML = "Current status" + " : " + slot.get("status_available");
				}
			})
		}
		
				function metro_minus() {
			Parse.$ = jQuery;
			Parse.initialize("ORdRb6ZtoTRSIUBeDKCcpigKQR9Pr6YJjeguuN9t", "ec8NHsZDP17pTdRjBKQFAPxB8ihduGt6e8NAGdaH"); 
			var Slot =  Parse.Object.extend("KPMG");
			var query = new Parse.Query(Slot);
			query.equalTo("objectId","CxD6JdgfB6");
			query.first({
				success: function(slot) { 
					slot.set("status_available", "Full");
					slot.save();
					document.getElementById("status_surface").innerHTML = "Current status" + " : " + slot.get("status_available");
				}
			})
		}
		
		</script>
	<!--- KPMG METRO PARKING-->
	
      <div class="jumbotron">
		<h2 style="color:#984807"><strong>KPMG Metro Parking</strong></h2>
		<hr>
		<button type="button" id="surface" onclick="refresh_available_metro()" class="btn btn-success">Available</button>	
		<button type="button" id="surface" onclick="update_metro()" class="btn btn-warning">Less than 10</button>	
		<button type="button" id="surface" onclick="refresh_full_metro()"      class="btn btn-danger">Full</button>
		<hr>
		<h2 id ="status_metro" style="color:#984807"><strong></strong></h2>				
	</div>
	
	<script>	
		function refresh_available_metro() {
			Parse.$ = jQuery;
			Parse.initialize("ORdRb6ZtoTRSIUBeDKCcpigKQR9Pr6YJjeguuN9t", "ec8NHsZDP17pTdRjBKQFAPxB8ihduGt6e8NAGdaH"); 
			var Slot =  Parse.Object.extend("KPMG");
			var query = new Parse.Query(Slot);
			query.equalTo("objectId","CxD6JdgfB6");
			query.first({
				success: function(slot) { 
					slot.set("status_available", "Available");
					slot.save();
					document.getElementById("status_metro").innerHTML ="Current status" + ": " + slot.get("status_available");
				}
			})
		}
		
		function update_metro() {
			Parse.$ = jQuery;
			Parse.initialize("ORdRb6ZtoTRSIUBeDKCcpigKQR9Pr6YJjeguuN9t", "ec8NHsZDP17pTdRjBKQFAPxB8ihduGt6e8NAGdaH"); 
			var Slot =  Parse.Object.extend("KPMG");
			var query = new Parse.Query(Slot);
			query.equalTo("objectId","CxD6JdgfB6");
			query.first({
				success: function(slot) { 
					slot.set("status_available", "Less than 10 Slots");
					slot.save();
					document.getElementById("status_metro").innerHTML ="Current status" + " : " +  slot.get("status_available");
				}
			})
		}
		
		function refresh_full_metro() {
			Parse.$ = jQuery;
			Parse.initialize("ORdRb6ZtoTRSIUBeDKCcpigKQR9Pr6YJjeguuN9t", "ec8NHsZDP17pTdRjBKQFAPxB8ihduGt6e8NAGdaH"); 
			var Slot =  Parse.Object.extend("KPMG");
			var query = new Parse.Query(Slot);
			query.equalTo("objectId","CxD6JdgfB6");
			query.first({
				success: function(slot) { 
					slot.set("status_available", "Full");
					slot.save();
					document.getElementById("status_metro").innerHTML = "Current status" + " : " + slot.get("status_available");
				}
			})
		}		
	</script>
     		
      </div>   
    </div> 
  </body>
</html>